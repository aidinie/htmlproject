<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>程序模拟Csrf攻击</title>
</head>
<body>
<form action="">
    用户名:<input type="text" id="uname"> <br>
    密&nbsp;&nbsp;&nbsp;码:<input type="text" id="pwd"><br>
    <input type="button" value="登录" id="login">
    <div id="new">

    </div>
</form>
<script>
    window.onload=function () {
        var uname="123";
        var upwd="123";
        var oUname=document.getElementById('uname');
        var oPwd=document.getElementById('pwd');
        var oLogin=document.getElementById('login');
        var oNew=document.getElementById('new');
        oLogin.onclick=function () {
          console.log('用户名为:'+oUname.value);
          console.log('密码为:'+oPwd.value);
          if(oUname.value==uname && oPwd.value==upwd){
              alert('登陆成功');
              var oDiv=document.createElement('div');
              oDiv.innerHTML='<input type="button" value="这是一个新的链接" id="login">';
              oNew.appendChild(oDiv);
              oDiv.onclick=function () {
                  upwd='456';
                  console.log('被修改密码为:'+upwd);
              }
          }else {
              alert('登录失败');
          }

        }
        };



</script>
</body>
</html>